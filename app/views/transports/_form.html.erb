<%= javascript_include_tag "materialize_init" %>
<%= form_with(model: transport, local: true) do |form| %>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
<script>
  $(document).ready(function(){

var only_routes = ['634','P49','105','107A','107B','108','111','112','113B','114A','117','119','12','120','121','124','128','13','132','135','136','139','14','142','143','148','15','16','162','165','166','172','183','188','189','191','192','193B','194','200','201','228','23','252','256','257','260','265','266','270','271','283','291','312','314','319','320','330','34','341','344','359','367','37','385','39','4','402','403A','403B','41','421','442','445','465','466','488','489','492','494A','496','505','539','54','540','544A','544B','552','56A','56B','576','577','579','580','593','599','59A','59B','60','603B','607','614','621','624','626A','626B','639','652','661','669','674','680','688','7','701','703','722','731','733','736','738','740','742','781','782','786','787A','795','796A','801','802','806','83','870A','91','910','912','914','921','927','950','953','97','99','C1','C100','C101','C11','C110','C12','C120','C123','C125','C12A','C13','C135','C142','C15','C19','C201','C25','C27','C29','C31','C33','C36','C37','C4','C41','C49','C51','C52','C53','C7','C701','C77','C97','E16','E17','E23','E25','E26A','E26B','E43','E44','E46','E57','E60','E61','E70','E72','N04','P23','P24','P3','P39','P44','P500','P51','P56','P62','P7','SE10','SE14','SE6','T02','T04','T05','T06','T09','T11','T21','T23','T24','T31','T38','T40','TC14','Z12','Z13','Z4','Z7','Z8','15-1','15-2','15-3','15-4','15-5','15-7','17-1','17-2','17-3','17-7','18-2','18-3','18-5','20-4','22-2','22-3','23-2','8-11','T10','T13-2','T13-4','10-10','10-11','14-5','14-6','18-11','18-12','18-13','18-6','18-7','18-8','18-9','6-18','T07','T08'];

$('input.autocomplete').autocomplete({
    data: only_routes,
    limit: 20, // The max amount of results that can be shown at once. Default: Infinity.
    onAutocomplete: function(val) {
      // Callback function when value is autcompleted.
    },
    minLength: 1, // The minimum length of the input for the autocomplete to start. Default: 1.
  });
        



})
</script>
 

 <script>
     $(document).ready(function(){
      var extract =  window.location.hash.substring(1);
       document.getElementById("tipo_t").setAttribute('value', extract);
  });
 </script>

  <div class="field">
    <%= form.label :tipo %>
    <%= form.select(:tipo, options_for_select([["Raponazo","Raponazo"],["Cosquilleo","Cosquilleo"],["Atraco a mano armada","Atraco a mano armada"],["Enga単o","Enga単o"],["Paseo millonario","Paseo millonario"]]) ) %>
  </div>

  
  <div class="field">
    <%= form.label :dia %>
    <%= form.text_field :dia, id: :transport_dia , class: "datepicker"%>
  </div>

  <div class="field">
      <%= form.label :hora %>
      <%= form.text_field :hora, id: :transport_hora, class: "timepicker" %>
    </div>
  

  <div class="field">
    <%= form.label :detalles %>
    <%= form.text_field :detalles, id: :transport_detalles %>
  </div>

  <div class="field">
    <%= form.label :longitude , style: "display:none"%>
    <%= form.text_field :longitude, id: :transport_longitude , style: "display:none"%>
  </div>

  <div class="field">
    <%= form.label :latitude , style: "display:none"%>
    <%= form.text_field :latitude, id: :transport_latitude , style: "display:none"%>
  </div>

  <div class="field">
    <%= form.label :address %>
    <%= form.text_field :address, id: :transport_address %>
  </div>

  <div class="field">
   
    <%= form.text_field :tipo_transp, id: :tipo_t , style: "display:none"%>
  </div>

  <!-- <div class="field">
    <%= form.label "Numero de la ruta" %>
    <%= form.select(:tipo, options_for_select([["Raponazo","Raponazo"],["Cosquilleo","Cosquilleo"],["Atraco a mano armada","Atraco a mano armada"],["Enga単o","Enga単o"],["Paseo millonario","Paseo millonario"]]) ) %>
  </div> -->

  <div class="field">
    <%= form.label "Numero de ruta" %>
    <%= form.text_field :id_route, id: :transport_id_route %>
  </div>

  <div class="input-field col s12">
    <i class="material-icons prefix">textsms</i>
    <input type="text" id="autocomplete-input" class="autocomplete">
    <label for="autocomplete-input">Autocomplete</label>
  </div>
  

  <div class="field">
      <%= form.label :images %>
      <div class="file-field input-field">
          <div class="btn green">
              <span>Adjuntar archivo</span>
              <%= form.file_field :images, multiple: true %>
          </div>
          <div class="file-path-wrapper">
              <input class="file-path validate" type="text">
          </div>
      </div>
  </div>

  <div class="actions">
      <%= form.submit class: "btn", id: 'submit'%>
    </div>

  <% if transport.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(transport.errors.count, "error") %> prohibited this transport from being saved:</h2>

    <ul>
    <% transport.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </div>
<% end %>
<% end %>
